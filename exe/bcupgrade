#!/usr/bin/env ruby

require 'bcupgrade'
require 'optparse'
require 'readline'

OptionParser.new do |opt|
  begin
    options = {}
    opt.on('-v', '--version', 'Show version number') do
      puts Bcupgrade::VERSION
      exit
    end
    opt.on('--dry-run', 'Show output without running') do |v|
      options[:dry_run] = v
    end

    opt.parse!(ARGV)
    Bcupgrade.run(options)
  rescue => e
    puts e.to_s
    exit
  end
end
